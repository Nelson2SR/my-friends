<view class="{{['cu-card dynamic margin-top',isCard?'no-card':'']}}"><view class="cu-item shadow"><view class="cu-list menu-avatar"><view class="cu-item"><view class="cu-avatar round lg" style="{{'background-image:'+('url('+item.owner.avatarUrl+')')+';'}}"></view><view class="content flex-sub"><view>{{item.owner.name}}</view><view class="text-gray text-sm flex justify-between">{{''+createdAt+''}}</view></view></view></view><view class="text-content">{{''+item.content+''}}</view><view class="{{['grid flex-sub padding-lr',imgCol]}}"><block wx:for="{{item.imgUrls}}" wx:for-item="img" wx:for-index="__i0__"><view class="bg-img"><image src="{{img}}" mode="aspectFill"></image></view></block></view><view class="text-gray text-sm text-right padding"><text class="{{['cuIcon-appreciatefill margin-lr-xs',hasLikePost?'text-red':'']}}"></text>{{''+postLikeCount+''}}<text class="cuIcon-messagefill margin-lr-xs"></text>{{''+comments.length+''}}</view><view class="action-button"><button type="default" data-event-opts="{{[['tap',[['likePost',['$event']]]]]}}" bindtap="__e">like</button><button type="default" data-event-opts="{{[['tap',[['viewComment',['$event']]]]]}}" bindtap="__e">comment</button></view><block wx:for="{{comments}}" wx:for-item="comment" wx:for-index="index" wx:key="index"><block wx:if="{{showComment}}"><view class="cu-list menu-avatar comment solids-top"><view class="cu-item"><view class="cu-avatar round" style="{{'background-image:'+('url('+comment.fromUser.avatarUrl+')')+';'}}"></view><view class="content"><view class="text-grey">{{comment.fromUser.name}}</view><view class="text-gray text-content text-df">{{''+comment.content+''}}</view><block wx:for="{{comment.replies}}" wx:for-item="reply" wx:for-index="index" wx:key="index"><block wx:if="{{comment.replies.length>0}}"><view class="bg-grey padding-sm radius margin-top-sm  text-sm"><view class="flex"><view>{{reply.fromUser.name+"："+reply.toUser.name}}</view><view class="flex-sub">{{reply.content}}</view></view></view></block></block><view class="margin-top-sm flex justify-between"><view class="text-gray text-df">{{comment.createdAt}}</view><view><text data-event-opts="{{[['tap',[['likeComment',['$event']]]]]}}" class="cuIcon-appreciatefill text-red" bindtap="__e"></text><text class="cuIcon-messagefill text-gray margin-left-sm" id="{{comment._id}}" data-event-opts="{{[['tap',[['sendCommentOnComment',['$event']]]]]}}" bindtap="__e"></text></view></view></view></view></view></block></block><view class="cu-form-group margin-top"><textarea maxlength="-1" placeholder="写些什么..." data-event-opts="{{[['input',[['inputTextArea',['$event']]]]]}}" bindinput="__e"></textarea><button type="default" data-event-opts="{{[['tap',[['sendCommentOnPost',['$event']]]]]}}" bindtap="__e">发送</button></view></view></view>